<ion-header>
  <ion-navbar color="white">
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title><img src="assets/images/logo.png"> Phoenix</ion-title>
    <ion-buttons end>
      <button ion-button (click)="navCtrl.setRoot('LoginPage')">Login</button>
      <button ion-button (click)="navCtrl.setRoot('SignupPage')">Signup</button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content class="bg-color" padding>
  <ion-card padding>
    <ion-row>
      <ion-col>
        <ion-label class="level">Registry</ion-label>
        <ion-spinner class="level" *ngIf="lib.loadingRegistry"></ion-spinner>
      </ion-col>
      <ion-col>
        <button ion-button icon-only float-right (click)="lib.presentAlert()">
          <ion-icon name="settings"></ion-icon>
        </button>
      </ion-col>
    </ion-row>
    <ion-item>
      <ion-select [(ngModel)]="lib.registry" (ionChange)="lib.getCollection()" interface="popover">
        <ion-option *ngFor="let option1 of lib.registryOptions" value="{{option1}}">{{option1}}</ion-option>
      </ion-select>
    </ion-item>
    <ion-label class="level">Collection</ion-label>
    <ion-spinner class="level" *ngIf="lib.loadingCollection"></ion-spinner>
    <ion-item>
      <ion-select [(ngModel)]="lib.collection" (ionChange)="lib.getParts(registry,collection)" interface="popover">
        <ion-option *ngFor="let option2 of lib.collectionOptions" value="{{option2.uri}}">{{option2.name}}</ion-option>
      </ion-select>
    </ion-item>
  </ion-card>
  <ion-card *ngIf="lib.collection">
    <ion-list>
      <ion-item class="table-header">
        <ion-row>
          <ion-col>
            <b>Display ID</b>
          </ion-col>
          <ion-col>
            <b>Name</b>
          </ion-col>
          <ion-col>
            <b>Description</b>
          </ion-col>
        </ion-row>
      </ion-item>
      <div *ngIf="!lib.loadingCollection">
        <ion-item *ngFor="let part of lib.parts">
          <ion-row>
            <ion-col text-wrap>
              {{part.displayId}}
            </ion-col>
            <ion-col text-wrap>
              {{part.name}}
            </ion-col>
            <ion-col text-wrap>
              {{part.description}}
            </ion-col>
          </ion-row>
          <hr>
        </ion-item>
      </div>
      <ion-item *ngIf="lib.parts.length == 0 && lib.collection">
        No Parts in this Collection
      </ion-item>
    </ion-list>

      <hr/>

  </ion-card>
</ion-content>
